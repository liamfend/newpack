!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["microapp-frontend-base"]=t():e["microapp-frontend-base"]=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}({0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(170);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(a).default}}),e.exports=t.default},4:function(e,t){"use strict";function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function o(){v&&p&&(v=!1,p.length?m=p.concat(m):h=-1,m.length&&s())}function s(){if(!v){var e=a(o);v=!0;for(var t=m.length;t;){for(p=m,m=[];++h<t;)p&&p[h].run();h=-1,t=m.length}p=null,v=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,f,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,m=[],v=!1,h=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new l(e,t)),1!==m.length||v||a(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},15:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=l.default.get("_x_call_id");return e&&(o.default.defaults.headers.common["X-Call-Id"]=e),o.default}Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),o=r(i),s=n(41),l=r(s);t.default=a(),e.exports=t.default},16:function(e,t,n){"use strict";e.exports=n(17)},17:function(e,t,n){"use strict";function r(e){var t=new o(e),n=i(o.prototype.request,t);return a.extend(n,o.prototype,t),a.extend(n,t),n}var a=n(18),i=n(19),o=n(20),s=n(21),l=r(s);l.Axios=o,l.create=function(e){return r(a.merge(s,e))},l.Cancel=n(38),l.CancelToken=n(39),l.isCancel=n(35),l.all=function(e){return Promise.all(e)},l.spread=n(40),e.exports=l,e.exports.default=l},18:function(e,t,n){"use strict";function r(e){return"[object Array]"===E.call(e)}function a(e){return"[object ArrayBuffer]"===E.call(e)}function i(e){return"undefined"!=typeof FormData&&e instanceof FormData}function o(e){var t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function s(e){return"string"==typeof e}function l(e){return"number"==typeof e}function u(e){return"undefined"==typeof e}function c(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":k(e))}function f(e){return"[object Date]"===E.call(e)}function d(e){return"[object File]"===E.call(e)}function p(e){return"[object Blob]"===E.call(e)}function m(e){return"[object Function]"===E.call(e)}function v(e){return c(e)&&m(e.pipe)}function h(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function y(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function g(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function b(e,t){if(null!==e&&"undefined"!=typeof e)if("object"===("undefined"==typeof e?"undefined":k(e))||r(e)||(e=[e]),r(e))for(var n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function w(){function e(e,n){"object"===k(t[n])&&"object"===("undefined"==typeof e?"undefined":k(e))?t[n]=w(t[n],e):t[n]=e}for(var t={},n=0,r=arguments.length;n<r;n++)b(arguments[n],e);return t}function _(e,t,n){return b(t,function(t,r){n&&"function"==typeof t?e[r]=C(t,n):e[r]=t}),e}var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C=n(19),E=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:a,isFormData:i,isArrayBufferView:o,isString:s,isNumber:l,isObject:c,isUndefined:u,isDate:f,isFile:d,isBlob:p,isFunction:m,isStream:v,isURLSearchParams:h,isStandardBrowserEnv:g,forEach:b,merge:w,extend:_,trim:y}},19:function(e,t){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},20:function(e,t,n){"use strict";function r(e){this.defaults=e,this.interceptors={request:new o,response:new o}}var a=n(21),i=n(18),o=n(32),s=n(33),l=n(36),u=n(37);r.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),e=i.merge(a,this.defaults,{method:"get"},e),e.baseURL&&!l(e.url)&&(e.url=u(e.baseURL,e.url));var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head"],function(e){r.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=r},21:function(e,t,n){(function(t){"use strict";function r(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function a(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(23):"undefined"!=typeof t&&(e=n(23)),e}var i=n(18),o=n(22),s=/^\)\]\}',?\n/,l={"Content-Type":"application/x-www-form-urlencoded"},u={adapter:a(),transformRequest:[function(e,t){return o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e){e=e.replace(s,"");try{e=JSON.parse(e)}catch(e){}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(e){u.headers[e]={}}),i.forEach(["post","put","patch"],function(e){u.headers[e]=i.merge(l)}),e.exports=u}).call(t,n(4))},22:function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},23:function(e,t,n){"use strict";var r=n(18),a=n(24),i=n(27),o=n(28),s=n(29),l=n(25),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(30);e.exports=function(e){return new Promise(function(t,c){var f=e.data,d=e.headers;r.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest,m="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||s(e.url)||(p=new window.XDomainRequest,m="onload",v=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var h=e.auth.username||"",y=e.auth.password||"";d.Authorization="Basic "+u(h+":"+y)}if(p.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[m]=function(){if(p&&(4===p.readyState||v)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?o(p.getAllResponseHeaders()):null,r=e.responseType&&"text"!==e.responseType?p.response:p.responseText,i={data:r,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};a(t,c,i),p=null}},p.onerror=function(){c(l("Network Error",e)),p=null},p.ontimeout=function(){c(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED")),p=null},r.isStandardBrowserEnv()){var g=n(31),b=(e.withCredentials||s(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}if("setRequestHeader"in p&&r.forEach(d,function(e,t){"undefined"==typeof f&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(e){if("json"!==p.responseType)throw e}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),c(e),p=null)}),void 0===f&&(f=null),p.send(f)})}},24:function(e,t,n){"use strict";var r=n(25);e.exports=function(e,t,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n)):e(n)}},25:function(e,t,n){"use strict";var r=n(26);e.exports=function(e,t,n,a){var i=new Error(e);return r(i,t,n,a)}},26:function(e,t){"use strict";e.exports=function(e,t,n,r){return e.config=t,n&&(e.code=n),e.response=r,e}},27:function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var a=n(18);e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(a.isURLSearchParams(t))i=t.toString();else{var o=[];a.forEach(t,function(e,t){null!==e&&"undefined"!=typeof e&&(a.isArray(e)&&(t+="[]"),a.isArray(e)||(e=[e]),a.forEach(e,function(e){a.isDate(e)?e=e.toISOString():a.isObject(e)&&(e=JSON.stringify(e)),o.push(r(t)+"="+r(e))}))}),i=o.join("&")}return i&&(e+=(e.indexOf("?")===-1?"?":"&")+i),e}},28:function(e,t,n){"use strict";var r=n(18);e.exports=function(e){var t,n,a,i={};return e?(r.forEach(e.split("\n"),function(e){a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i}},29:function(e,t,n){"use strict";var r=n(18);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(a.setAttribute("href",t),t=a.href),a.setAttribute("href",t),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");return t=e(window.location.href),function(n){var a=r.isString(n)?e(n):n;return a.protocol===t.protocol&&a.host===t.host}}():function(){return function(){return!0}}()},30:function(e,t){"use strict";function n(){this.message="String contains an invalid character"}function r(e){for(var t,r,i=String(e),o="",s=0,l=a;i.charAt(0|s)||(l="=",s%1);o+=l.charAt(63&t>>8-s%1*8)){if(r=i.charCodeAt(s+=.75),r>255)throw new n;t=t<<8|r}return o}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",e.exports=r},31:function(e,t,n){"use strict";var r=n(18);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,a,i,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(a)&&s.push("path="+a),r.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},32:function(e,t,n){"use strict";function r(){this.handlers=[]}var a=n(18);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){a.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},33:function(e,t,n){"use strict";function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var a=n(18),i=n(34),o=n(35),s=n(21);e.exports=function(e){r(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=a.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),a.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});var t=e.adapter||s.adapter;return t(e).then(function(t){return r(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(r(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},34:function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},35:function(e,t){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},36:function(e,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},37:function(e,t){"use strict";e.exports=function(e,t){return e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}},38:function(e,t){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},39:function(e,t,n){"use strict";function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new a(e),t(n.reason))})}var a=n(38);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e,t=new r(function(t){e=t});return{token:t,cancel:e}},e.exports=r},40:function(e,t){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},41:function(e,t,n){var r,a,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(o){var s=!1;if(r=o,a="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==a&&(e.exports=a)),s=!0,"object"===i(t)&&(e.exports=o(),s=!0),!s){var l=window.Cookies,u=window.Cookies=o();u.noConflict=function(){return window.Cookies=l,u}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,a,i){var o;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},r.defaults,i),"number"==typeof i.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{o=JSON.stringify(a),/^[\{\[]/.test(o)&&(a=o)}catch(e){}a=n.write?n.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var l="";for(var u in i)i[u]&&(l+="; "+u,i[u]!==!0&&(l+="="+i[u]));return document.cookie=t+"="+a+l}t||(o={});for(var c=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,d=0;d<c.length;d++){var p=c[d].split("="),m=p.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var v=p[0].replace(f,decodeURIComponent);if(m=n.read?n.read(m,v):n(m,v)||m.replace(f,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(e){}if(t===v){o=m;break}t||(o[v]=m)}catch(e){}}return o}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t(function(){})})},48:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(49),l=r(s),u=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(this,e),!(t instanceof l.default.HTMLElement))throw new Error("element must be instance of HTMLElement");e.abstractMethods.forEach(function(e){if(!n[e])throw new Error("class must implement '"+e+"' method")}),this.element=t,this.nestedElements={},this.props=i({},this.constructor.defaultProps,r)}return o(e,[{key:"getElement",value:function(e){var t=this.props.elementSelectors[e];return this.nestedElements[e]||(this.nestedElements[e]=this.element.querySelector(t)),this.nestedElements[e]}},{key:"getElementList",value:function(e){var t=this.props.elementSelectors[e];return this.nestedElements[e]||(this.nestedElements[e]=[].slice.call(this.element.querySelectorAll(t))),this.nestedElements[e]}}]),e}();u.abstractMethods=["init","destroy"],u.defaultProps={},t.default=u,e.exports=t.default},49:function(e,t){(function(t){"use strict";var n;n="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(t,function(){return this}())},170:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(48),c=r(u),f=n(15),d=r(f),p=n(171),m=n(172),v=r(m),h=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(y.call(r),"FORM"!==e.nodeName)throw new Error("You must specify a form element");return r.form=e,r.fields=e.querySelectorAll("[data-validate]"),r.actionUrl=e.getAttribute("action")||null,r.fieldStates={},r}return s(t,e),l(t,[{key:"init",value:function(){this.initFieldStates(),this.addEventListener()}},{key:"initFieldStates",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,a=this.fields[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var i=r.value;this.fieldStates[i.name]={validation:JSON.parse(i.getAttribute("data-validate")),validValue:null,changed:!1,lastError:!1},i.required&&!i.value||(this.fieldStates[i.name].validValue=i.value)}}catch(e){t=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw n}}}},{key:"getAllValidValues",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var a,i=Object.keys(this.fieldStates)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value,s=this.fieldStates[o].validValue;null!==s&&(e[o]=s)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return e}},{key:"destroy",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,a=this.fields[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var i=r.value;i.removeEventListener("blur",this.blurValidate),i.removeEventListener("change",this.changeValidate)}}catch(e){t=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw n}}this.form.removeEventListener("submit",this.submitValidate)}}]),t}(c.default);h.defaultProps={baseClass:"field",async:!1,asyncCallback:null,submitCheckCallback:null,validationCallback:null};var y=function(){var e=this;this.addEventListener=function(){var t=!0,n=!1,r=void 0;try{for(var a,i=e.fields[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;o.addEventListener("change",e.changeValidate),o.addEventListener("blur",e.blurValidate)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}e.form.addEventListener("submit",e.submitValidate)},this.changeValidate=function(t){e.fieldStates[t.target.name].changed=!0},this.blurValidate=function(t){var n=e.fieldStates[t.target.name];if(n.changed||null===n.validValue){var r=e.validate(t.target);r&&e.props.async&&e.postData(t.target)}e.fieldStates[t.target.name].changed=!1},this.submitValidate=function(t){t.preventDefault();var n=!0,r=!0,a=!1,i=void 0;try{for(var o,s=e.fields[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;e.validate(l)||(n=!1)}}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}e.props.submitCheckCallback?e.props.submitCheckCallback(n):n&&e.form.submit()},this.validate=function(t){var n=t.value,r=e.fieldStates[t.name].validation;if(r.required=t.required,r.type=r.type||t.type,r.required&&!(0,p.validateNotEmpty)(n))return e.validationFailed(t,r,"blank");if(r.type)switch(r.type){case"email":if(!(0,p.validateEmail)(n))return e.validationFailed(t,r);break;case"phone":if(!(0,p.validateTelephone)(n))return e.validationFailed(t,r);break;case"internationalPhone":if(!(0,p.validateInternationalTelephone)(n))return e.validationFailed(t,r);break;case"date":var a=document.getElementById(r.dateDetail.day),i=document.getElementById(r.dateDetail.year),o=document.getElementById(r.dateDetail.month),s=e.fieldStates[i.name].validation;if(""!==i.value&&!(0,p.validateYear)(i.value,s.yearOffsetStart,s.yearOffsetEnd))return e.validationFailed(i,s);if(""!==i.value&&e.validationPassed(i,s,!1),""!==a.value&&!(0,p.validateDay)(a.value,o.value,i.value))return e.validationFailed(a,r);""!==a.value&&e.validationPassed(a,r,!1);break;case"regex":var l=r.pattern.match(/^\/(.*?)\/([gimy])*$/),u=new RegExp(l[1],l[2]);if(!u.test(n))return e.validationFailed(t,r)}var c=r.minLength||t.minLength;if(c&&c!==-1&&n.length<c)return e.validationFailed(t,r);var f=r.maxLength||t.maxLength;return f&&f!==-1&&n.length>f?e.validationFailed(t,r):e.validationPassed(t,r)},this.validationFailed=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"invalid",a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=t.closest("."+e.props.baseClass),o=n.errorBaseClass?t.closest("."+n.errorBaseClass):i;if(n.enableErrMessage===!1)return i.classList.remove(e.props.baseClass+"--valid").add(e.props.baseClass+"--error"),!1;var s=e.getErrorMessageElement(o),l=n.errors.default;return"invalid"===r&&n.errors.invalid?l=n.errors.invalid:"blank"===r&&n.errors.blank?l=n.errors.blank:"number"==typeof r?l=r:n.errors.default&&(l=n.errors.default),s.innerHTML=e.props.i18n.t(""+v.default[l].key),i.classList.remove(e.props.baseClass+"--valid"),i.classList.add(e.props.baseClass+"--error"),e.fieldStates[t.name].lastError=r,a&&!e.props.async&&e.props.validationCallback&&e.props.validationCallback(t,!1),!1},this.getErrorMessageElement=function(t){var n=null;return t.querySelector("."+e.props.baseClass+"__error-message")?n=t.querySelector("."+e.props.baseClass+"__error-message"):(n=document.createElement("p"),n.classList.add(e.props.baseClass+"__error-message"),t.appendChild(n)),n},this.validationPassed=function(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=t.closest("."+e.props.baseClass),i=n.errorBaseClass?t.closest("."+n.errorBaseClass):a,o=i.querySelector("."+e.props.baseClass+"__error-message");o&&o.parentNode.removeChild(o),a.classList.remove(e.props.baseClass+"--error"),a.classList.add(e.props.baseClass+"--valid");var s=i.querySelectorAll("."+e.props.baseClass+"--error [data-validate]");if(s.length>0){var l=e.fieldStates[s[0].name];e.validationFailed(s[0],l.validation,l.lastError,!1)}var u=e.fieldStates[t.name];return u.lastError=null,u.validValue=t.value,r&&!e.props.async&&e.props.validationCallback&&e.props.validationCallback(t,!0),!0},this.postData=function(t){d.default.post(e.actionUrl,a({},t.getAttribute("name"),t.value)).then(function(n){var r=void 0;"ok"!==n.data.status&&n.data.error?(e.validationFailed(t,JSON.parse(t.getAttribute("data-validate")),n.data.error||"invalid"),r=!1):(e.fieldStates[t.name].validValue=t.value,r=!0),e.props.validationCallback&&e.props.validationCallback(t,r),e.props.asyncCallback&&e.props.asyncCallback(t,n.data)})}};t.default=h,e.exports=t.default},171:function(e,t){"use strict";function n(e,t,n){var a=parseInt(e,10),i=parseInt(t,10),o=parseInt(n,10),s=a<=28;return c.indexOf(i)!==-1?s=a<=31:f.indexOf(i)!==-1?s=a<=30:29===a&&(s=!o||r(o)),s}function r(e){return e%4===0}function a(e,t,n){var r=(new Date).getFullYear();return e>=r+t&&e<=r+n}Object.defineProperty(t,"__esModule",{value:!0}),t.validateYear=a;var i=8,o=1,s=/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/,l=/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{2,7}$/,u=/^(\+[0-9\s]{1,5}\s|\(\+[0-9\s]{1,5}\)\s{0,1})?(\d+\s?)*\d+$/,c=[1,3,5,7,8,10,12],f=[4,6,9,11];t.validateEmail=function(e){return s.test(e)},t.validatePassword=function(e){return!!(e&&e.length>=i)},t.validateTelephone=function(e){return l.test(e)},t.validateInternationalTelephone=function(e){return u.test(e)},t.validateNotEmpty=function(e){return!!(e&&e.length>=o)},t.validateDay=function(e,t,r){return e>0&&n(e,t,r)}},172:function(e,t){e.exports={1001:{description:"E-mail invalid message: Please enter a valid email address",key:"global.form_input.email.invalid_message"},1002:{description:"E-mail blank message: Please enter a valid email address",key:"global.form_input.email.blank_message"},1011:{description:"First name blank message: Please enter a valid first name",key:"global.form_input.first_name.blank_message"},1012:{description:"Last name blank message: Please enter a valid last name",key:"global.form_input.last_name.blank_message"},1021:{description:"Phone number invalid message: Please enter a valid phone number",key:"global.form_input.phone_number.invalid_message"},1031:{description:"Gender invalid message: Please enter a valid gender",key:"global.form_input.gender.blank_message"},1041:{description:"Date of birth invalid message: Please enter a valid date of birth",key:"global.form_input.date_of_birth.invalid_message"},1051:{description:"Nationality invalid message: Please enter a valid nationality",key:"account.application_details.form_input.nationality.blank_message"},1061:{description:"Current school message: Please enter a valid current school",key:"account.application_details.form_input.current_school.blank_message"},1071:{description:"Move in month invalid message: Please enter a valid move in month",key:"global.form_input.move_in_month.invalid_message"},1081:{description:"Destination university invalid message: Please enter a valid destination university",key:"global.form_input.destination_uni_other.blank_message"},1091:{description:"Academic year invalid message: Please enter a valid academic year",key:"account.application_details.form_input.academic_year.blank_message"},1101:{description:"Study major invalid message: Please enter a valid study major",key:"account.application_details.form_input.study_major.blank_message"},1111:{description:"Address invalid message: Please enter a valid Address",key:"global.form_input.address_line_1.blank_message"},1121:{description:"City invalid message: Please enter a valid city",key:"global.form_input.city.blank_message"},1131:{description:"State invalid message: Please enter a valid state",key:"global.form_input.state.blank_message"},1141:{description:"Post code invalid message: Please enter a valid post code",key:"global.form_input.post_code.blank_message"},1151:{description:"Country invalid message: Please enter a valid country",key:"account.application_details.form_input.country.blank_message"},1161:{description:"Guarantor first name invalid message: Please enter a valid guarantor first name",key:"account.application_details.form_input.guarantor_first_name.blank_message"},1162:{description:"Guarantor last name invalid message: Please enter a valid guarantor last name",key:"account.application_details.form_input.guarantor_last_name.blank_message"},1171:{description:"Relationship with student invalid message: Please enter a valid relationship whit student",key:"account.application_details.form_input.relationship_with_student.blank_message"},1181:{description:"Preference invalid message: Please enter a valid preference",key:"account.application_details.form_input.preference.blank_message"},1191:{description:"City invalid message: Please enter a valid city",key:"partner.application_page.form.city_of_study.invalid_message"},1201:{description:"Move out month invalid message: Please enter a valid move out month",key:"global.form_input.move_out_month.invalid_message"}}}})});
//# sourceMappingURL=form-validation.js.map