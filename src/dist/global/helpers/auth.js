!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["microapp-frontend-base"]=t():e["microapp-frontend-base"]=t()}(this,function(){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(177)},,,,function(e,t){"use strict";function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function n(e){if(c===setTimeout)return setTimeout(e,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(e){if(l===clearTimeout)return clearTimeout(e);if((l===o||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function i(){y&&f&&(y=!1,f.length?d=f.concat(d):g=-1,d.length&&u())}function u(){if(!y){var e=n(i);y=!0;for(var t=d.length;t;){for(f=d,d=[];++g<t;)f&&f[g].run();g=-1,t=d.length}f=null,y=!1,a(e)}}function s(e,t){this.fun=e,this.array=t}function p(){}var c,l,h=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(e){c=r}try{l="function"==typeof clearTimeout?clearTimeout:o}catch(e){l=o}}();var f,d=[],y=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];d.push(new s(e,t)),1!==d.length||y||n(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=p,h.addListener=p,h.once=p,h.off=p,h.removeListener=p,h.removeAllListeners=p,h.emit=p,h.prependListener=p,h.prependOnceListener=p,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},,,,,,,,function(e,t,r){(function(t){"use strict";var o,n="undefined"!=typeof t?t:"undefined"!=typeof window?window:{},a=r(13);"undefined"!=typeof document?o=document:(o=n["__GLOBAL_DOCUMENT_CACHE@4"],o||(o=n["__GLOBAL_DOCUMENT_CACHE@4"]=a)),e.exports=o}).call(t,function(){return this}())},function(e,t){},,function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(){var e=s.default.get("_x_call_id");return e&&(i.default.defaults.headers.common["X-Call-Id"]=e),i.default}Object.defineProperty(t,"__esModule",{value:!0});var a=r(16),i=o(a),u=r(41),s=o(u);t.default=n(),e.exports=t.default},function(e,t,r){"use strict";e.exports=r(17)},function(e,t,r){"use strict";function o(e){var t=new i(e),r=a(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var n=r(18),a=r(19),i=r(20),u=r(21),s=o(u);s.Axios=i,s.create=function(e){return o(n.merge(u,e))},s.Cancel=r(38),s.CancelToken=r(39),s.isCancel=r(35),s.all=function(e){return Promise.all(e)},s.spread=r(40),e.exports=s,e.exports.default=s},function(e,t,r){"use strict";function o(e){return"[object Array]"===E.call(e)}function n(e){return"[object ArrayBuffer]"===E.call(e)}function a(e){return"undefined"!=typeof FormData&&e instanceof FormData}function i(e){var t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function u(e){return"string"==typeof e}function s(e){return"number"==typeof e}function p(e){return"undefined"==typeof e}function c(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":v(e))}function l(e){return"[object Date]"===E.call(e)}function h(e){return"[object File]"===E.call(e)}function f(e){return"[object Blob]"===E.call(e)}function d(e){return"[object Function]"===E.call(e)}function y(e){return c(e)&&d(e.pipe)}function g(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function _(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function m(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function w(e,t){if(null!==e&&"undefined"!=typeof e)if("object"===("undefined"==typeof e?"undefined":v(e))||o(e)||(e=[e]),o(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}function b(){function e(e,r){"object"===v(t[r])&&"object"===("undefined"==typeof e?"undefined":v(e))?t[r]=b(t[r],e):t[r]=e}for(var t={},r=0,o=arguments.length;r<o;r++)w(arguments[r],e);return t}function S(e,t,r){return w(t,function(t,o){r&&"function"==typeof t?e[o]=C(t,r):e[o]=t}),e}var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C=r(19),E=Object.prototype.toString;e.exports={isArray:o,isArrayBuffer:n,isFormData:a,isArrayBufferView:i,isString:u,isNumber:s,isObject:c,isUndefined:p,isDate:l,isFile:h,isBlob:f,isFunction:d,isStream:y,isURLSearchParams:g,isStandardBrowserEnv:m,forEach:w,merge:b,extend:S,trim:_}},function(e,t){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];return e.apply(t,r)}}},function(e,t,r){"use strict";function o(e){this.defaults=e,this.interceptors={request:new i,response:new i}}var n=r(21),a=r(18),i=r(32),u=r(33),s=r(36),p=r(37);o.prototype.request=function(e){"string"==typeof e&&(e=a.merge({url:arguments[0]},arguments[1])),e=a.merge(n,this.defaults,{method:"get"},e),e.baseURL&&!s(e.url)&&(e.url=p(e.baseURL,e.url));var t=[u,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},a.forEach(["delete","get","head"],function(e){o.prototype[e]=function(t,r){return this.request(a.merge(r||{},{method:e,url:t}))}}),a.forEach(["post","put","patch"],function(e){o.prototype[e]=function(t,r,o){return this.request(a.merge(o||{},{method:e,url:t,data:r}))}}),e.exports=o},function(e,t,r){(function(t){"use strict";function o(e,t){!a.isUndefined(e)&&a.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function n(){var e;return"undefined"!=typeof XMLHttpRequest?e=r(23):"undefined"!=typeof t&&(e=r(23)),e}var a=r(18),i=r(22),u=/^\)\]\}',?\n/,s={"Content-Type":"application/x-www-form-urlencoded"},p={adapter:n(),transformRequest:[function(e,t){return i(t,"Content-Type"),a.isFormData(e)||a.isArrayBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e)?e:a.isArrayBufferView(e)?e.buffer:a.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):a.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e){e=e.replace(u,"");try{e=JSON.parse(e)}catch(e){}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};p.headers={common:{Accept:"application/json, text/plain, */*"}},a.forEach(["delete","get","head"],function(e){p.headers[e]={}}),a.forEach(["post","put","patch"],function(e){p.headers[e]=a.merge(s)}),e.exports=p}).call(t,r(4))},function(e,t,r){"use strict";var o=r(18);e.exports=function(e,t){o.forEach(e,function(r,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[o])})}},function(e,t,r){"use strict";var o=r(18),n=r(24),a=r(27),i=r(28),u=r(29),s=r(25),p="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(30);e.exports=function(e){return new Promise(function(t,c){var l=e.data,h=e.headers;o.isFormData(l)&&delete h["Content-Type"];var f=new XMLHttpRequest,d="onreadystatechange",y=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||u(e.url)||(f=new window.XDomainRequest,d="onload",y=!0,f.onprogress=function(){},f.ontimeout=function(){}),e.auth){var g=e.auth.username||"",_=e.auth.password||"";h.Authorization="Basic "+p(g+":"+_)}if(f.open(e.method.toUpperCase(),a(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f[d]=function(){if(f&&(4===f.readyState||y)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in f?i(f.getAllResponseHeaders()):null,o=e.responseType&&"text"!==e.responseType?f.response:f.responseText,a={data:o,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:r,config:e,request:f};n(t,c,a),f=null}},f.onerror=function(){c(s("Network Error",e)),f=null},f.ontimeout=function(){c(s("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED")),f=null},o.isStandardBrowserEnv()){var m=r(31),w=(e.withCredentials||u(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;w&&(h[e.xsrfHeaderName]=w)}if("setRequestHeader"in f&&o.forEach(h,function(e,t){"undefined"==typeof l&&"content-type"===t.toLowerCase()?delete h[t]:f.setRequestHeader(t,e)}),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(e){if("json"!==f.responseType)throw e}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){f&&(f.abort(),c(e),f=null)}),void 0===l&&(l=null),f.send(l)})}},function(e,t,r){"use strict";var o=r(25);e.exports=function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(o("Request failed with status code "+r.status,r.config,null,r)):e(r)}},function(e,t,r){"use strict";var o=r(26);e.exports=function(e,t,r,n){var a=new Error(e);return o(a,t,r,n)}},function(e,t){"use strict";e.exports=function(e,t,r,o){return e.config=t,r&&(e.code=r),e.response=o,e}},function(e,t,r){"use strict";function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var n=r(18);e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(n.isURLSearchParams(t))a=t.toString();else{var i=[];n.forEach(t,function(e,t){null!==e&&"undefined"!=typeof e&&(n.isArray(e)&&(t+="[]"),n.isArray(e)||(e=[e]),n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))}))}),a=i.join("&")}return a&&(e+=(e.indexOf("?")===-1?"?":"&")+a),e}},function(e,t,r){"use strict";var o=r(18);e.exports=function(e){var t,r,n,a={};return e?(o.forEach(e.split("\n"),function(e){n=e.indexOf(":"),t=o.trim(e.substr(0,n)).toLowerCase(),r=o.trim(e.substr(n+1)),t&&(a[t]=a[t]?a[t]+", "+r:r)}),a):a}},function(e,t,r){"use strict";var o=r(18);e.exports=o.isStandardBrowserEnv()?function(){function e(e){var t=e;return r&&(n.setAttribute("href",t),t=n.href),n.setAttribute("href",t),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}var t,r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");return t=e(window.location.href),function(r){var n=o.isString(r)?e(r):r;return n.protocol===t.protocol&&n.host===t.host}}():function(){return function(){return!0}}()},function(e,t){"use strict";function r(){this.message="String contains an invalid character"}function o(e){for(var t,o,a=String(e),i="",u=0,s=n;a.charAt(0|u)||(s="=",u%1);i+=s.charAt(63&t>>8-u%1*8)){if(o=a.charCodeAt(u+=.75),o>255)throw new r;t=t<<8|o}return i}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=o},function(e,t,r){"use strict";var o=r(18);e.exports=o.isStandardBrowserEnv()?function(){return{write:function(e,t,r,n,a,i){var u=[];u.push(e+"="+encodeURIComponent(t)),o.isNumber(r)&&u.push("expires="+new Date(r).toGMTString()),o.isString(n)&&u.push("path="+n),o.isString(a)&&u.push("domain="+a),i===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,r){"use strict";function o(){this.handlers=[]}var n=r(18);o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,r){"use strict";function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var n=r(18),a=r(34),i=r(35),u=r(21);e.exports=function(e){o(e),e.headers=e.headers||{},e.data=a(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});var t=e.adapter||u.adapter;return t(e).then(function(t){return o(e),t.data=a(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(o(e),t&&t.response&&(t.response.data=a(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var o=r(18);e.exports=function(e,t,r){return o.forEach(r,function(r){e=r(e,t)}),e}},function(e,t){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t){"use strict";e.exports=function(e,t){return e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}},function(e,t){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,r){"use strict";function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}var n=r(38);o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e,t=new o(function(t){e=t});return{token:t,cancel:e}},e.exports=o},function(e,t){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){var o,n,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(i){var u=!1;if(o=i,n="function"==typeof o?o.call(t,r,t,e):o,!(void 0!==n&&(e.exports=n)),u=!0,"object"===a(t)&&(e.exports=i(),u=!0),!u){var s=window.Cookies,p=window.Cookies=i();p.noConflict=function(){return window.Cookies=s,p}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var o in r)t[o]=r[o]}return t}function t(r){function o(t,n,a){var i;if("undefined"!=typeof document){if(arguments.length>1){if(a=e({path:"/"},o.defaults,a),"number"==typeof a.expires){var u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*a.expires),a.expires=u}a.expires=a.expires?a.expires.toUTCString():"";try{i=JSON.stringify(n),/^[\{\[]/.test(i)&&(n=i)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var s="";for(var p in a)a[p]&&(s+="; "+p,a[p]!==!0&&(s+="="+a[p]));return document.cookie=t+"="+n+s}t||(i={});for(var c=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,h=0;h<c.length;h++){var f=c[h].split("="),d=f.slice(1).join("=");this.json||'"'!==d.charAt(0)||(d=d.slice(1,-1));try{var y=f[0].replace(l,decodeURIComponent);if(d=r.read?r.read(d,y):r(d,y)||d.replace(l,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(e){}if(t===y){i=d;break}t||(i[y]=d)}catch(e){}}return i}}return o.set=o,o.get=function(e){return o.call(o,e)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(t,r){o(t,"",e(r,{expires:-1}))},o.withConverter=t,o}return t(function(){})})},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function e(){var t=this;r(this,e);for(var o=arguments.length,n=Array(o),a=0;a<o;a++)n[a]=arguments[a];n.forEach(function(e){if("string"!=typeof e)throw new Error("Enum helper: "+e+" is not a string");Object.defineProperty(t,e,{value:e,writable:!1,enumerable:!0,configurable:!1})})};t.default=o;t.NamespacedEnum=function e(t,o){var n=this;if(r(this,e),"string"!=typeof t)throw new Error("NamespacedEnum helper: namespace is not a string");if(!Array.isArray(o))throw new Error('NamespacedEnum helper: "values" must be an array');o.forEach(function(e){if("string"!=typeof e)throw new Error("NamespacedEnum helper: "+e+" is not a string");Object.defineProperty(n,e,{value:t+":"+e,writable:!1,enumerable:!0,configurable:!1})})}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lower-lower";c||(c=u.default.documentElement&&u.default.documentElement.lang?u.default.documentElement.lang:l);var t=c.split("-");switch(e){case h.lower_UPPER:return t[1]=t[1].toUpperCase(),t.join("_");default:return c}}function a(){c=null}Object.defineProperty(t,"__esModule",{value:!0}),t.formats=t.defaultLocale=void 0,t.getLocale=n,t.clearCache=a;var i=r(12),u=o(i),s=r(42),p=o(s),c=void 0,l=t.defaultLocale="en-us",h=t.formats=new p.default("lower-lower","lower_UPPER")},function(e,t){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;if("undefined"==typeof window)return!1;var r=a(t),o=r.getItem(e);try{return JSON.parse(o)}catch(e){return o}}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;if("undefined"==typeof window)return!1;var o=a(r);return"object"===("undefined"==typeof t?"undefined":i(t))?o.setItem(e,JSON.stringify(t)):o.setItem(e,t),!0}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;if("undefined"==typeof window)return!1;var r=a(t);try{return r.removeItem(e),!0}catch(e){return!1}}function a(e){return"local"===e?localStorage:sessionStorage}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getItem=r,t.setItem=o,t.removeItem=n;var u="local";t.default={getItem:r,setItem:o,removeItem:n}},,,function(e,t,r){"use strict";function o(){l=null}function n(){var e=window.location.hostname;return e.includes("uat1")?h.UAT1:e.includes("uat2")?h.UAT2:e.includes("uat3")?h.UAT3:"unknow"}function a(){var e="";return u("student.com")?e="student.com":u("xuelujia.xyz")?e="xuelujia.xyz":u("dandythrust.com")&&(e="dandythrust.com"),e}function i(){var e=p();return e===h.PROD?"//gateway.student.com/graphql":e===h.STAGE?"//gateway.dandythrust.com/graphql":e===h.UAT1||e===h.UAT2||e===h.UAT3?"//gateway-"+e+".dandythrust.com/graphql":"//gateway.dandythrust.com/graphql"}function u(e){if("undefined"==typeof window)return!1;var t=window.location.hostname;return t.substring(t.length-e.length)===e}function s(){return!!window.location.hostname.match(/.*cn.*\.com/i)}function p(){return l?l:l="undefined"==typeof window?h.PROD:u("student.com")?h.PROD:u("dandythrust.com")&&f()?n():u("dandythrust.com")&&!f()?h.STAGE:h.DEV}Object.defineProperty(t,"__esModule",{value:!0}),t.environments=void 0,t.clearCache=o,t.getEnvironmentUAT=n,t.getCookieDomain=a,t.getGraphQlDomain=i,t.isChinaSubdomain=s,t.default=p;var c=r(42),l=void 0,h=t.environments=new c.NamespacedEnum("ENVIRONMENT",["PROD","STAGE","UAT","UAT1","UAT2","UAT3","DEV"]),f=function(){if(window.location&&window.location.hostname){var e=window.location.hostname;return e.includes("uat")}return!1}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(e.childRoutes[t])return{routeObject:e.childRoutes[t],path:e.childRoutes[t].path};throw new Error("generatePath: Path not found. Please check path exists")}function a(e,t){return"/"===e.charAt(e.length-1)||"/"===t.charAt(0)?"":"/"}function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,p.getLocale)();if("string"!=typeof e)throw new Error("generatePath: name must be a dot-separated string");var o=u(e,r),n=void 0;return n=h[o]?h[o]:s(e,r),t&&Object.keys(t).forEach(function(e){n=n.replace("{"+e+"}",t[e])}),n}function u(e,t){return t+"."+e}function s(e,t){var r=e.split("."),o=u(e,t),i=t===p.defaultLocale||"zh-cn"===t,s=void 0,c=void 0,d=void 0,y=void 0,g=void 0;if(f.indexOf(r[0])!==-1)d=!0,c=l.default.nonLocalised;else if(d=!1,c=l.default[t],!c)throw new Error('generatePath: route with locale "'+t+'" does not exist');s=c.path;for(var _=0;_<r.length;_++){var m=n(c,r[_]),w=a(s,m.path);s+=""+w+m.path,c=m.routeObject,c.localeSpecific&&(y=!0,g=c.localeSpecific)}return y&&g!==p.defaultLocale?s=""+g+s:y||!d||i||(s=""+t+s),"/"!==s.charAt(0)&&(s="/"+s),h[o]=s,h[o]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var p=r(43),c=r(74),l=o(c),h={},f=Object.keys(l.default.nonLocalised.childRoutes);e.exports=t.default},function(e,t){e.exports={"de-de":{path:"de-de",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles:{path:"articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},"el-cy":{path:"el-cy",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles:{path:"articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},"el-gr":{path:"el-gr",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles:{path:"articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},"en-gb":{path:"en-gb",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles:{path:"articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},"en-us":{path:"",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles:{path:"articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},"es-es":{path:"es-es",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles:{path:"articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},"es-la":{path:"es-la",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles:{path:"articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},"fr-fr":{path:"fr-fr",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles:{path:"articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},"it-it":{path:"it-it",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles:{path:"articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},"ja-jp":{path:"ja-jp",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles:{path:"articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},"ko-kr":{path:"ko-kr",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles:{path:"articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},"pt-br":{path:"pt-br",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles:{path:"articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},"ru-ru":{path:"ru-ru",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles:{path:"articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},"th-th":{path:"th-th",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles:{path:"articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{
path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},"tr-tr":{path:"tr-tr",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles:{path:"articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},"vi-vn":{path:"vi-vn",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles:{path:"articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},"zh-cn":{path:"",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles_cn:{path:"//cn.student.com/articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},"zh-hk":{path:"zh-hk",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles:{path:"articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},"zh-tw":{path:"zh-tw",childRoutes:{home:{path:""},help:{path:"help"},how_it_works:{path:"how-it-works"},about:{path:"about"},careers:{path:"careers"},list_your_property:{path:"list-your-property"},partner:{path:"p/new-student"},articles:{path:"articles"},blog:{path:"blog"},city_property_listing:{path:"{countrySlug}/{citySlug}"},area_property_listing:{path:"{countrySlug}/{citySlug}/{areaSlug}"},university_property_listing:{path:"{countrySlug}/{citySlug}/u/{universitySlug}"},property_detail:{path:"{countrySlug}/{citySlug}/p/{propertySlug}"},browse_country:{path:"{countrySlug}"},newsletter_signup:{path:"newsletter/subscribe"},write_a_review:{path:"review?pageId={pageId}"},affiliate:{path:"mlp/affiliate?Header"}}},nonLocalised:{path:"/",childRoutes:{blog:{path:"blog",localeSpecific:"en-us"},articles:{path:"articles",localeSpecific:"en-us"},news:{path:"news",localeSpecific:"en-us"},contact:{path:"contact"},"my-account":{path:"my-account",childRoutes:{login:{path:"login"},signup:{path:"signup"},"forgot-password":{path:"forgot-password"},"my-applications":{path:"dashboard"},"application-details":{path:"my-details"},"my-wish-list":{path:"wish-list"},"recently-viewed":{path:"recently-viewed"},"my-coupons":{path:"my-coupons"},"account-settings":{path:"account-settings"},"payment-callback":{path:"payment/callback/{id}/{opportunity_listing_id}/{landlord_name}"},"my-requests":{path:"my-requests"},"my-bookings":{path:"my-bookings",childRoutes:{review:{path:"{bookingId}/review"},bookingDetail:{path:"{bookingId}"}}},"my-details":{path:"my-details"},"quick-guides":{path:"quick-guides"}}},"get-user":{path:"microapp-home-page/ajax/user/{uuid}"},"get-user-records":{path:"microapp-student-portal/ajax/user/{uuid}/records"},"get-intercom-user-records":{path:"microapp-student-portal/ajax/user/intercom/{uuid}/records"},"get-intercom-visitor":{path:"microapp-search-results-page/ajax/user/intercom/visitor"},"get-journeys-current":{path:"microapp-student-portal/ajax/user/{uuid}/journeys/current"},"get-owner-id-by-email":{path:"microapp-student-portal/ajax/user/owner/{email}"},"short-term-default":{path:"short-term-lets"},"short-term":{path:"{countrySlug}/{citySlug}/short-term-lets"},terms:{path:"terms",childRoutes:{cookies:{path:"cookies"},privacy:{path:"privacy"},"acceptable-use":{path:"acceptableuse"},terms_of_use:{path:"terms-of-use"}}},sitemaps:{path:"sitemaps/v1"}}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(s.default,e,t)}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=null;i(),r?o=new CustomEvent(t,{detail:r}):(o=s.default.createEvent("Event"),o.initEvent(t,!0,!1)),e.dispatchEvent(o)}function i(){if("function"==typeof window.CustomEvent)return!1;var e=function(e,t){var r=t||{bubbles:!1,cancelable:!1,detail:void 0},o=s.default.createEvent("CustomEvent");return o.initCustomEvent(e,r.bubbles,r.cancelable,r.detail),o};return e.prototype=window.Event.prototype,window.CustomEvent=e,null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,t.fireCustomEventOnElement=a;var u=r(12),s=o(u)},function(e,t){e.exports={clientInfo:{name:"clientInfo",description:"clientInfo event when fetched user client information, ip/country/region"},geoIpPhoneNumberInitialised:{name:"geoIpPhoneNumberInitialised",description:"initialised geoIp data with formatted data"},loginUser:{name:"loginUser",description:"login user"},userLogin:{name:"userLogin",description:"userLogin event when user logged in"},userLogged:{name:"userLogged",description:"userLogged event when user logged in on page load"},partnerCookieSet:{name:"partnerCookieSet",description:"Fire when partner cookie (partner_info) has successfully set"},logoutUser:{name:"logoutUser",description:"logout user"},userLogout:{name:"userLogout",description:"userLogout event when user logged out"},setupAutoCompleteTriggers:{name:"setupAutoCompleteTriggers",description:"reset autoComplete triggers event, use on dynamic changes on search element"},autocompletePreFilled:{name:"autocompletePreFilled",description:"events when user select dropdown list of autocomplete"},setupCountryCodeTriggers:{name:"setupCountryCodeTriggers",description:"reset country code component"},countryCodeChanged:{name:"countryCodeChanged",description:"country code change event"},receivedUser:{name:"receivedUserTriggers",description:"user request event when received user information"},enquirySuccess:{name:"enquirySuccessTriggers",description:"enquiry success event when a enquiry submitting success"},modalClose:{name:"modalCloseTriggers",description:"modal close event when a modal close"},trakReady:{name:"trakReady",description:"trak is already added"},liveChatOpeningNotice:{name:"liveChatOpeningNotice",description:"notice to open the live chat"},i18nInitialised:{name:"i18nInitialised",description:"fire when i18next initialised"},staticHashInitialised:{name:"staticHashInitialised",description:"fire when static hash ready"},wishListUpdateSuccess:{name:"wishListUpdateSuccess",description:"wish list update success event"},appReady:{name:"appReady",description:"app ready event"},pageReady:{name:"pageReady",description:"page ready event"},showContactBar:{name:"showContactBar",description:"show contact bar"},wulaiReady:{name:"wulaiReady",description:"laiye load success"},intercomReady:{name:"intercomReady",description:"intercom setup success"},updateCouponViewed:{name:"updateCouponViewed",description:"update student info couponViewed to true success"}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(){if("undefined"==typeof document)return null;try{return _.default.get(v.default.auth.name)}catch(e){return p(),null}}function a(){var e=n();if(e){var t=h(e);t.roles&&t.roles.indexOf("partner")!==-1?f(e):w.default.get((0,T.default)("get-user",{uuid:t.uuid}),{}).then(function(e){window.hurricane=window.hurricane||{},window.hurricane.user=e.data,(0,R.setItem)("user",e.data,"session"),(0,x.default)(E.default.receivedUser.name,{user:e.data})}).catch(function(){D>=5||(D+=1,setTimeout(function(){a()},1e3))})}}function i(){return window.hurricane&&window.hurricane.user||(0,R.getItem)("user","session")||null}function u(){(0,R.removeItem)("user","session"),window.hurricane&&window.hurricane.user&&delete window.hurricane.user}function s(e){return"undefined"==typeof document?null:(_.default.set(v.default.auth.name,e,U),c(e),a(),!0)}function p(){return"undefined"==typeof document?null:(_.default.remove(v.default.auth.name,U),_.default.remove(v.default.partnerInfo.name,{path:"/",domain:(0,A.getCookieDomain)()}),l(),u(),window.location.reload(),!0)}function c(e){"undefined"!=typeof document&&(0,x.default)(E.default.userLogin.name,{token:e})}function l(){"undefined"!=typeof document&&(0,x.default)(E.default.userLogout.name)}function h(e){if("string"!=typeof e)return null;var t=(0,y.default)(e);return{uuid:t.uuid,roles:t.roles||[],email:t.email}}function f(e){(0,w.default)({method:"post",url:(0,A.getGraphQlDomain)(),data:{operationName:"PP_GetBranches",query:"\n        query PP_GetBranches {\n        viewer {\n          ... on PartnerContact {\n            emailAddress\n            firstName\n            lastName\n            company {\n              code\n              name\n            }\n          }\n        }\n      }"},headers:{Authorization:"Bearer "+e}}).then(function(e){var t=e.data.data.viewer;_.default.set(v.default.partnerInfo.name,b.Base64.encodeURI(JSON.stringify({partnerName:t.company.name,code:t.company.code,email_address:t.emailAddress,name:t.firstName+" "+t.lastName})),{path:"/",domain:(0,A.getCookieDomain)()}),(0,x.default)("hideButtonsForPartner"),"undefined"!=typeof document&&((0,x.default)(E.default.partnerCookieSet.name,{data:t}),(0,x.default)(E.default.receivedUser.name))})}Object.defineProperty(t,"__esModule",{value:!0}),t.authCookieProperties=void 0,t.getAuthToken=n,t.updateUserInfo=a,t.getUserInfo=i,t.removeUserInfo=u,t.loginUser=s,t.logoutUser=p,t.triggerLoginEvent=c,t.triggerLogoutEvent=l,t.decodeUserInfo=h;var d=r(178),y=o(d),g=r(41),_=o(g),m=r(15),w=o(m),b=r(181),S=r(182),v=o(S),C=r(148),E=o(C),A=r(47),I=r(147),x=o(I),R=r(44),k=r(73),T=o(k),U=t.authCookieProperties={path:v.default.auth.path,domain:(0,A.getCookieDomain)()},D=0},function(e,t,r){"use strict";function o(e){this.message=e}var n=r(179);o.prototype=new Error,o.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");t=t||{};var r=t.header===!0?0:1;try{return JSON.parse(n(e.split(".")[r]))}catch(e){throw new o("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=o},function(e,t,r){"use strict";function o(e){return decodeURIComponent(n(e).replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}var n=r(180);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return o(t)}catch(e){return n(t)}}},function(e,t){"use strict";function r(e){this.message=e}function o(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,a,i=0,u=0,s="";a=t.charAt(u++);~a&&(o=i%4?64*o+a:a,i++%4)?s+=String.fromCharCode(255&o>>(-2*i&6)):0)a=n.indexOf(a);return s}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||o},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(global){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"object"===_typeof(exports)&&"undefined"!=typeof module?module.exports=t(e):(__WEBPACK_AMD_DEFINE_FACTORY__=t,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0,function(global){global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if("undefined"!=typeof module&&module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},r=0,o=e.length;r<o;r++)t[e.charAt(r)]=r;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),o=[b64chars.charAt(r>>>18),b64chars.charAt(r>>>12&63),t>=2?"=":b64chars.charAt(r>>>6&63),t>=1?"=":b64chars.charAt(63&r)];return o.join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return fromCharCode((r>>>10)+55296)+fromCharCode((1023&r)+56320);case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,r=t%4,o=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),n=[fromCharCode(o>>>16),fromCharCode(o>>>8&255),fromCharCode(255&o)];return n.length-=[0,0,2,1][r],n.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),"undefined"!=typeof module&&module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))),{Base64:global.Base64}})}).call(exports,function(){return this}())},function(e,t){e.exports={auth:{name:"STUDENTPORSESSION",path:"/"},partnerInfo:{name:"partner_info",path:"/"}}}])});
//# sourceMappingURL=auth.js.map