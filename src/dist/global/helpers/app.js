!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports["microapp-frontend-base"]=n():e["microapp-frontend-base"]=n()}(this,function(){return function(e){function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,n,t){e.exports=t(184)},12:function(e,n,t){(function(n){"use strict";var o,i="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},r=t(13);"undefined"!=typeof document?o=document:(o=i["__GLOBAL_DOCUMENT_CACHE@4"],o||(o=i["__GLOBAL_DOCUMENT_CACHE@4"]=r)),e.exports=o}).call(n,function(){return this}())},13:function(e,n){},41:function(e,n,t){var o,i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a){var s=!1;if(o=a,i="function"==typeof o?o.call(n,t,n,e):o,!(void 0!==i&&(e.exports=i)),s=!0,"object"===r(n)&&(e.exports=a(),s=!0),!s){var u=window.Cookies,c=window.Cookies=a();c.noConflict=function(){return window.Cookies=u,c}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var t=arguments[e];for(var o in t)n[o]=t[o]}return n}function n(t){function o(n,i,r){var a;if("undefined"!=typeof document){if(arguments.length>1){if(r=e({path:"/"},o.defaults,r),"number"==typeof r.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*r.expires),r.expires=s}r.expires=r.expires?r.expires.toUTCString():"";try{a=JSON.stringify(i),/^[\{\[]/.test(a)&&(i=a)}catch(e){}i=t.write?t.write(i,n):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)),n=n.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),n=n.replace(/[\(\)]/g,escape);var u="";for(var c in r)r[c]&&(u+="; "+c,r[c]!==!0&&(u+="="+r[c]));return document.cookie=n+"="+i+u}n||(a={});for(var d=document.cookie?document.cookie.split("; "):[],p=/(%[0-9A-Z]{2})+/g,l=0;l<d.length;l++){var f=d[l].split("="),m=f.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var g=f[0].replace(p,decodeURIComponent);if(m=t.read?t.read(m,g):t(m,g)||m.replace(p,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(e){}if(n===g){a=m;break}n||(a[g]=m)}catch(e){}}return a}}return o.set=o,o.get=function(e){return o.call(o,e)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(n,t){o(n,"",e(t,{expires:-1}))},o.withConverter=n,o}return n(function(){})})},42:function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function e(){var n=this;t(this,e);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];i.forEach(function(e){if("string"!=typeof e)throw new Error("Enum helper: "+e+" is not a string");Object.defineProperty(n,e,{value:e,writable:!1,enumerable:!0,configurable:!1})})};n.default=o;n.NamespacedEnum=function e(n,o){var i=this;if(t(this,e),"string"!=typeof n)throw new Error("NamespacedEnum helper: namespace is not a string");if(!Array.isArray(o))throw new Error('NamespacedEnum helper: "values" must be an array');o.forEach(function(e){if("string"!=typeof e)throw new Error("NamespacedEnum helper: "+e+" is not a string");Object.defineProperty(i,e,{value:n+":"+e,writable:!1,enumerable:!0,configurable:!1})})}},47:function(e,n,t){"use strict";function o(){p=null}function i(){var e=window.location.hostname;return e.includes("uat1")?l.UAT1:e.includes("uat2")?l.UAT2:e.includes("uat3")?l.UAT3:"unknow"}function r(){var e="";return s("student.com")?e="student.com":s("xuelujia.xyz")?e="xuelujia.xyz":s("dandythrust.com")&&(e="dandythrust.com"),e}function a(){var e=c();return e===l.PROD?"//gateway.student.com/graphql":e===l.STAGE?"//gateway.dandythrust.com/graphql":e===l.UAT1||e===l.UAT2||e===l.UAT3?"//gateway-"+e+".dandythrust.com/graphql":"//gateway.dandythrust.com/graphql"}function s(e){if("undefined"==typeof window)return!1;var n=window.location.hostname;return n.substring(n.length-e.length)===e}function u(){return!!window.location.hostname.match(/.*cn.*\.com/i)}function c(){return p?p:p="undefined"==typeof window?l.PROD:s("student.com")?l.PROD:s("dandythrust.com")&&f()?i():s("dandythrust.com")&&!f()?l.STAGE:l.DEV}Object.defineProperty(n,"__esModule",{value:!0}),n.environments=void 0,n.clearCache=o,n.getEnvironmentUAT=i,n.getCookieDomain=r,n.getGraphQlDomain=a,n.isChinaSubdomain=u,n.default=c;var d=t(42),p=void 0,l=n.environments=new d.NamespacedEnum("ENVIRONMENT",["PROD","STAGE","UAT","UAT1","UAT2","UAT3","DEV"]),f=function(){if(window.location&&window.location.hostname){var e=window.location.hostname;return e.includes("uat")}return!1}},147:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(u.default,e,n)}function r(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=null;a(),t?o=new CustomEvent(n,{detail:t}):(o=u.default.createEvent("Event"),o.initEvent(n,!0,!1)),e.dispatchEvent(o)}function a(){if("function"==typeof window.CustomEvent)return!1;var e=function(e,n){var t=n||{bubbles:!1,cancelable:!1,detail:void 0},o=u.default.createEvent("CustomEvent");return o.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o};return e.prototype=window.Event.prototype,window.CustomEvent=e,null}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i,n.fireCustomEventOnElement=r;var s=t(12),u=o(s)},148:function(e,n){e.exports={clientInfo:{name:"clientInfo",description:"clientInfo event when fetched user client information, ip/country/region"},geoIpPhoneNumberInitialised:{name:"geoIpPhoneNumberInitialised",description:"initialised geoIp data with formatted data"},loginUser:{name:"loginUser",description:"login user"},userLogin:{name:"userLogin",description:"userLogin event when user logged in"},userLogged:{name:"userLogged",description:"userLogged event when user logged in on page load"},partnerCookieSet:{name:"partnerCookieSet",description:"Fire when partner cookie (partner_info) has successfully set"},logoutUser:{name:"logoutUser",description:"logout user"},userLogout:{name:"userLogout",description:"userLogout event when user logged out"},setupAutoCompleteTriggers:{name:"setupAutoCompleteTriggers",description:"reset autoComplete triggers event, use on dynamic changes on search element"},autocompletePreFilled:{name:"autocompletePreFilled",description:"events when user select dropdown list of autocomplete"},setupCountryCodeTriggers:{name:"setupCountryCodeTriggers",description:"reset country code component"},countryCodeChanged:{name:"countryCodeChanged",description:"country code change event"},receivedUser:{name:"receivedUserTriggers",description:"user request event when received user information"},enquirySuccess:{name:"enquirySuccessTriggers",description:"enquiry success event when a enquiry submitting success"},modalClose:{name:"modalCloseTriggers",description:"modal close event when a modal close"},trakReady:{name:"trakReady",description:"trak is already added"},liveChatOpeningNotice:{name:"liveChatOpeningNotice",description:"notice to open the live chat"},i18nInitialised:{name:"i18nInitialised",description:"fire when i18next initialised"},staticHashInitialised:{name:"staticHashInitialised",description:"fire when static hash ready"},wishListUpdateSuccess:{name:"wishListUpdateSuccess",description:"wish list update success event"},appReady:{name:"appReady",description:"app ready event"},pageReady:{name:"pageReady",description:"page ready event"},showContactBar:{name:"showContactBar",description:"show contact bar"},wulaiReady:{name:"wulaiReady",description:"laiye load success"},intercomReady:{name:"intercomReady",description:"intercom setup success"},updateCouponViewed:{name:"updateCouponViewed",description:"update student info couponViewed to true success"}}},184:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){return window.location.search.indexOf("student_app=1")!==-1||"1"===p.default.get("student_app")}function r(){return window.hurricane&&window.hurricane.appBridge?window.hurricane.appBridge:null}function a(e){r()&&r().isReady()?e(r()):(0,f.default)()!==l.environments.PROD&&p.default.get("student_app_test")?e():document.addEventListener(c.default.appReady.name,function(){e(r())})}function s(){(0,g.default)(c.default.pageReady.name)}Object.defineProperty(n,"__esModule",{value:!0}),n.isApp=i,n.getAppBridge=r,n.onAppReady=a,n.pageReady=s;var u=t(148),c=o(u),d=t(41),p=o(d),l=t(47),f=o(l),m=t(147),g=o(m)}})});
//# sourceMappingURL=app.js.map