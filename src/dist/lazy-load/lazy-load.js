!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["microapp-frontend-base"]=e():t["microapp-frontend-base"]=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}({0:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(237),i=r(o);n(239);var c=new i.default;c.init(),e.default=c,t.exports=e.default},237:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(238),a=r(s),u=function(){function t(){o(this,t),this.instance=null}return c(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"undefined"!=typeof window&&null===this.instance&&(this.instance=(0,a.default)(i({normal:"data-lazy-src",retina:"data-lazy-retina-src",srcset:"data-lazy-srcset",threshold:0},t)),this.onAfter(function(t){t.classList.add("lazy-image--show")}),this.update().check().handlers(!0))}},{key:"handlers",value:function(t){return this.instance&&this.instance.handlers(t),this}},{key:"check",value:function(){return this.instance&&this.instance.check(),this}},{key:"update",value:function(){return this.instance&&this.instance.update(),this}},{key:"onBefore",value:function(t){return this.instance&&this.instance.on("src:before",t),this}},{key:"onAfter",value:function(t){return this.instance&&this.instance.on("src:after",t),this}}]),t}();e.default=u,t.exports=e.default},238:function(t,e,n){var r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(c,s){"object"===i(e)&&"undefined"!=typeof t?t.exports=s():(r=s,o="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==o&&(t.exports=o)))}(void 0,function(){"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e=function(){function e(t,e){return c[t]=c[t]||[],c[t].push(e),this}function n(t,n){return n._once=!0,e(t,n),this}function r(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?c[t].splice(c[t].indexOf(e),1):delete c[t],this}function o(t){for(var e=this,n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];var s=c[t]&&c[t].slice();return s&&s.forEach(function(n){n._once&&r(t,n),n.apply(e,o)}),this}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=Object.create(null);return t({},i,{on:e,once:n,off:r,emit:o})},n=function(){function t(){return window.scrollY||window.pageYOffset}function n(){l=t(),r()}function r(){d||(window.requestAnimationFrame(function(){return a()}),d=!0)}function o(t){return t.getBoundingClientRect().top+l}function i(t){var e=l,n=e+p,r=o(t),i=r+t.offsetHeight,c=v.threshold/100*p;return i>=e-c&&r<=n+c}function c(t){if(m.emit("src:before",t),y&&t.hasAttribute(v.srcset))t.setAttribute("srcset",t.getAttribute(v.srcset));else{var e=b>1&&t.getAttribute(v.retina);t.setAttribute("src",e||t.getAttribute(v.normal))}m.emit("src:after",t),[v.normal,v.retina,v.srcset].forEach(function(e){return t.removeAttribute(e)}),u()}function s(t){var e=t?"addEventListener":"removeEventListener";return["scroll","resize"].forEach(function(t){return window[e](t,n)}),this}function a(){return p=window.innerHeight,h.forEach(function(t){return i(t)&&c(t)}),d=!1,this}function u(){return h=Array.prototype.slice.call(document.querySelectorAll("["+v.normal+"]")),this}var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=t(),d=void 0,h=void 0,p=void 0,v={normal:f.normal||"data-normal",retina:f.retina||"data-retina",srcset:f.srcset||"data-srcset",threshold:f.threshold||0},y=document.body.classList.contains("srcset")||"srcset"in document.createElement("img"),b=window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI,m=e({handlers:s,check:a,update:u});return m};return n})},239:function(t,e){}})});
//# sourceMappingURL=lazy-load.js.map